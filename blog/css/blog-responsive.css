/* Thrift Maal Blog - Mobile-First Responsive Styles */
/* Optimized for devices from 320px to 1920px */

/* ============================================
   MOBILE FIRST - BASE STYLES (320px+)
   ============================================ */

/* Already mobile-optimized in blog.css, these are specific overrides */

/* Extra Small Devices (Portrait Phones, less than 480px) */
@media (max-width: 479px) {
    /* Typography Adjustments */
    :root {
        --font-size-base: 15px;
    }

    /* Container Padding */
    .container {
        padding: 0 0.75rem;
    }

    /* Hero Section */
    .blog-hero {
        padding: 2rem 0;
    }

    .hero-title {
        font-size: 1.75rem;
        line-height: 1.2;
    }

    .hero-subtitle {
        font-size: 0.9375rem;
        padding: 0 1rem;
    }

    /* Category Tabs - Better Touch Targets */
    .category-filter-section {
        padding: 1rem 0;
        top: 60px; /* Adjusted for smaller mobile header */
    }

    .category-tabs {
        gap: 0.5rem;
        padding: 0 0.75rem 0.5rem;
    }

    .category-tab {
        padding: 0.5rem 1rem;
        font-size: 0.8125rem;
    }

    .category-tab i {
        font-size: 0.875rem;
    }

    /* Blog Layout - Single Column */
    .blog-layout {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    /* Featured Post - Stack Vertically */
    .featured-post {
        grid-template-columns: 1fr;
        min-height: auto;
    }

    .featured-post-image {
        height: 200px;
    }

    .featured-badge {
        top: 1rem;
        left: 1rem;
        font-size: 0.6875rem;
        padding: 0.375rem 0.75rem;
    }

    .featured-post-content {
        padding: 1.5rem;
    }

    .featured-post-title {
        font-size: 1.375rem;
        margin-bottom: 0.75rem;
    }

    .featured-post-excerpt {
        font-size: 0.9375rem;
        margin-bottom: 1rem;
    }

    .featured-post-meta {
        flex-wrap: wrap;
        gap: 1rem;
        font-size: 0.8125rem;
        margin-bottom: 1rem;
    }

    .featured-post-cta {
        width: 100%;
        justify-content: center;
        padding: 0.875rem 1.25rem;
        font-size: 0.9375rem;
    }

    /* Blog Controls */
    .blog-controls {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
        padding: 0.875rem 0;
    }

    .results-count {
        font-size: 0.8125rem;
    }

    .sort-controls {
        width: 100%;
    }

    .sort-select {
        flex: 1;
        width: 100%;
    }

    /* Blog Grid - Single Column */
    .blog-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }

    /* Blog Card Adjustments */
    .blog-card-image {
        height: 180px;
    }

    .card-category-badge {
        top: 0.75rem;
        left: 0.75rem;
        font-size: 0.6875rem;
        padding: 0.3125rem 0.625rem;
    }

    .blog-card-content {
        padding: 1.25rem;
    }

    .blog-card-title {
        font-size: 1.0625rem;
        margin-bottom: 0.625rem;
    }

    .blog-card-excerpt {
        font-size: 0.8125rem;
        margin-bottom: 0.875rem;
        -webkit-line-clamp: 2;
    }

    .blog-card-meta {
        padding-top: 0.875rem;
        font-size: 0.75rem;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .meta-left {
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    .blog-card-cta {
        font-size: 0.8125rem;
    }

    /* Load More Button */
    .btn-load-more {
        width: 100%;
        padding: 0.875rem 1.5rem;
        font-size: 0.9375rem;
    }

    /* Newsletter Section */
    .newsletter-box {
        padding: 1.75rem 1.25rem;
        border-radius: 10px;
    }

    .newsletter-icon {
        font-size: 2.25rem;
        margin-bottom: 0.875rem;
    }

    .newsletter-box h3 {
        font-size: 1.375rem;
        margin-bottom: 0.625rem;
    }

    .newsletter-box p {
        font-size: 0.9375rem;
        margin-bottom: 1.25rem;
    }

    .newsletter-form {
        flex-direction: column;
        gap: 0.625rem;
    }

    .newsletter-form input {
        padding: 0.875rem 1rem;
        font-size: 0.9375rem;
    }

    .btn-subscribe {
        width: 100%;
        justify-content: center;
        padding: 0.875rem;
        font-size: 0.9375rem;
    }

    .newsletter-note {
        font-size: 0.75rem;
    }

    /* Sidebar - Moves Below Content */
    .blog-sidebar {
        order: 2;
    }

    .blog-content {
        order: 1;
    }

    .sidebar-widget {
        padding: 1.25rem;
        margin-bottom: 1.25rem;
    }

    .widget-title {
        font-size: 1.0625rem;
        margin-bottom: 0.875rem;
        padding-bottom: 0.625rem;
    }

    /* Popular Posts in Sidebar */
    .popular-posts-list {
        gap: 0.875rem;
    }

    .popular-post-item {
        padding-bottom: 0.875rem;
        gap: 0.75rem;
    }

    .popular-post-thumb {
        width: 70px;
        height: 70px;
    }

    .popular-post-title {
        font-size: 0.8125rem;
    }

    .popular-post-date {
        font-size: 0.6875rem;
    }

    /* Categories List */
    .category-item {
        padding: 0.5rem 0;
    }

    .category-link {
        font-size: 0.875rem;
    }

    .category-count {
        font-size: 0.6875rem;
        padding: 0.1875rem 0.5rem;
    }

    /* Tags Cloud */
    .tags-cloud {
        gap: 0.375rem;
    }

    .tag-item {
        padding: 0.3125rem 0.75rem;
        font-size: 0.75rem;
    }

    /* CTA Widget */
    .cta-box i {
        font-size: 2rem;
        margin-bottom: 0.875rem;
    }

    .cta-box h4 {
        font-size: 1.125rem;
        margin-bottom: 0.375rem;
    }

    .cta-box p {
        font-size: 0.875rem;
        margin-bottom: 1rem;
    }

    .btn-cta {
        padding: 0.75rem 1.25rem;
        font-size: 0.9375rem;
        width: 100%;
    }

    /* Sticky Sidebar - Disable on Mobile */
    .sticky-sidebar {
        position: static;
    }

    /* Breadcrumb */
    .breadcrumb-container {
        padding: 0.625rem 0;
    }

    .breadcrumb {
        font-size: 0.8125rem;
        flex-wrap: wrap;
    }

    .breadcrumb-item + .breadcrumb-item::before {
        margin: 0 0.375rem;
    }
}

/* ============================================
   SMALL DEVICES (Landscape Phones, 480px - 767px)
   ============================================ */

@media (min-width: 480px) and (max-width: 767px) {
    /* Container */
    .container {
        padding: 0 1rem;
    }

    /* Hero Section */
    .hero-title {
        font-size: 2rem;
    }

    .hero-subtitle {
        font-size: 1rem;
    }

    /* Category Filter */
    .category-filter-section {
        top: 65px;
    }

    /* Featured Post */
    .featured-post {
        grid-template-columns: 1fr;
    }

    .featured-post-image {
        height: 240px;
    }

    .featured-post-content {
        padding: 2rem;
    }

    .featured-post-title {
        font-size: 1.5rem;
    }

    /* Blog Grid - 2 Columns if space allows */
    .blog-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.25rem;
    }

    /* Newsletter Form */
    .newsletter-form {
        flex-direction: row;
    }

    .btn-subscribe {
        width: auto;
    }

    /* Blog Layout - Still Single Column */
    .blog-layout {
        grid-template-columns: 1fr;
    }

    /* Sidebar Widgets */
    .sidebar-widget {
        padding: 1.5rem;
    }
}

/* ============================================
   MEDIUM DEVICES (Tablets, 768px - 991px)
   ============================================ */

@media (min-width: 768px) and (max-width: 991px) {
    /* Container */
    .container {
        padding: 0 1.5rem;
    }

    /* Hero Section */
    .hero-title {
        font-size: 2.25rem;
    }

    .hero-subtitle {
        font-size: 1.0625rem;
    }

    /* Category Filter */
    .category-filter-section {
        top: 70px;
    }

    .category-tab {
        padding: 0.625rem 1.125rem;
        font-size: 0.875rem;
    }

    /* Featured Post - Side by Side */
    .featured-post {
        grid-template-columns: 1fr 1fr;
        min-height: 380px;
    }

    .featured-post-image {
        height: auto;
    }

    .featured-post-content {
        padding: 2rem;
    }

    .featured-post-title {
        font-size: 1.625rem;
    }

    /* Blog Layout - Single Column (Sidebar Below) */
    .blog-layout {
        grid-template-columns: 1fr;
        gap: 2rem;
    }

    /* Blog Grid - 2 Columns */
    .blog-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    /* Blog Card */
    .blog-card-image {
        height: 200px;
    }

    /* Newsletter */
    .newsletter-box {
        padding: 2.25rem;
    }

    .newsletter-form {
        max-width: 600px;
    }

    /* Sidebar - Display Below Content */
    .blog-sidebar {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    .sidebar-widget {
        margin-bottom: 0;
    }

    /* Sticky Sidebar - Disable */
    .sticky-sidebar {
        position: static;
    }
}

/* ============================================
   LARGE DEVICES (Desktops, 992px - 1199px)
   ============================================ */

@media (min-width: 992px) and (max-width: 1199px) {
    /* Container */
    .container {
        max-width: 960px;
        padding: 0 1.5rem;
    }

    /* Hero Section */
    .hero-title {
        font-size: 2.375rem;
    }

    /* Category Filter */
    .category-filter-section {
        top: 70px;
    }

    /* Featured Post */
    .featured-post {
        min-height: 400px;
    }

    .featured-post-title {
        font-size: 1.75rem;
    }

    /* Blog Layout - 2 Columns (Content + Sidebar) */
    .blog-layout {
        grid-template-columns: 1fr 320px;
        gap: 2rem;
    }

    /* Blog Grid - 2 Columns */
    .blog-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    /* Sidebar - Normal Layout */
    .blog-sidebar {
        display: block;
    }

    /* Sticky Sidebar - Enable */
    .sticky-sidebar {
        position: sticky;
        top: 150px;
    }
}

/* ============================================
   EXTRA LARGE DEVICES (Large Desktops, 1200px+)
   ============================================ */

@media (min-width: 1200px) {
    /* Container */
    .container {
        max-width: 1200px;
        padding: 0 2rem;
    }

    /* Hero Section */
    .hero-title {
        font-size: 2.5rem;
    }

    /* Featured Post */
    .featured-post {
        min-height: 420px;
    }

    .featured-post-title {
        font-size: 1.875rem;
    }

    /* Blog Layout - Optimal Sidebar Width */
    .blog-layout {
        grid-template-columns: 1fr 350px;
        gap: 2.5rem;
    }

    /* Blog Grid - 3 Columns */
    .blog-grid {
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.75rem;
    }

    /* Blog Card */
    .blog-card-image {
        height: 220px;
    }

    /* Newsletter */
    .newsletter-box {
        padding: 2.5rem;
    }

    /* Sidebar */
    .sidebar-widget {
        padding: 1.5rem;
    }

    /* Sticky Sidebar */
    .sticky-sidebar {
        position: sticky;
        top: 150px;
    }
}

/* ============================================
   ULTRA WIDE SCREENS (1400px+)
   ============================================ */

@media (min-width: 1400px) {
    .container {
        max-width: 1320px;
    }

    .blog-layout {
        grid-template-columns: 1fr 380px;
        gap: 3rem;
    }

    .blog-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 2rem;
    }
}

/* ============================================
   SINGLE BLOG POST PAGE RESPONSIVE STYLES
   ============================================ */

/* Mobile (< 768px) */
@media (max-width: 767px) {
    /* Post Layout */
    .post-layout {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    /* Post Header */
    .post-header {
        padding: 1rem 0;
    }

    .post-title {
        font-size: 1.5rem;
        line-height: 1.3;
        margin-bottom: 1rem;
    }

    .post-meta {
        flex-wrap: wrap;
        gap: 0.75rem;
        font-size: 0.8125rem;
    }

    .post-meta > div {
        flex: 0 0 calc(50% - 0.375rem);
    }

    /* Share Bar */
    .post-share-bar {
        flex-wrap: wrap;
        gap: 0.5rem;
        padding: 1rem;
        background-color: var(--surface);
        border-radius: 8px;
        margin-top: 1rem;
    }

    .share-label {
        width: 100%;
        font-size: 0.875rem;
    }

    .share-btn {
        flex: 1;
        min-width: calc(20% - 0.5rem);
        padding: 0.625rem;
        font-size: 0.875rem;
    }

    /* Featured Image */
    .post-featured-image {
        margin: 1rem 0;
        border-radius: 8px;
        overflow: hidden;
    }

    .post-featured-image img {
        width: 100%;
        height: auto;
        max-height: 300px;
        object-fit: cover;
    }

    /* Table of Contents */
    .table-of-contents {
        padding: 1.25rem;
        margin: 1.5rem 0;
        font-size: 0.875rem;
    }

    .toc-title {
        font-size: 1rem;
        margin-bottom: 0.875rem;
    }

    .toc-list {
        padding-left: 1.25rem;
    }

    .toc-list li {
        margin-bottom: 0.5rem;
    }

    /* Post Body Typography */
    .post-body {
        font-size: 1rem;
        line-height: 1.7;
    }

    .post-body h2 {
        font-size: 1.5rem;
        margin: 2rem 0 1rem;
    }

    .post-body h3 {
        font-size: 1.25rem;
        margin: 1.5rem 0 0.875rem;
    }

    .post-body h4 {
        font-size: 1.125rem;
        margin: 1.25rem 0 0.75rem;
    }

    .post-body p {
        margin-bottom: 1.25rem;
    }

    .post-body ul, .post-body ol {
        margin: 1rem 0 1.5rem 1.5rem;
    }

    .post-body li {
        margin-bottom: 0.625rem;
    }

    .post-body img {
        width: 100%;
        height: auto;
        border-radius: 8px;
        margin: 1.5rem 0;
    }

    .post-body blockquote {
        margin: 1.5rem 0;
        padding: 1rem 1.25rem;
        font-size: 0.9375rem;
    }

    /* Post Tags */
    .post-tags-container {
        margin: 2rem 0;
        padding: 1rem;
        background-color: var(--surface);
        border-radius: 8px;
    }

    .tags-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.75rem;
    }

    .tag-badge {
        padding: 0.375rem 0.875rem;
        font-size: 0.8125rem;
    }

    /* Author Box */
    .author-box {
        flex-direction: column;
        text-align: center;
        padding: 1.5rem;
        margin: 2rem 0;
    }

    .author-avatar {
        margin: 0 auto 1rem;
    }

    .author-name {
        font-size: 1.125rem;
    }

    .author-bio {
        font-size: 0.875rem;
    }

    /* Related Posts */
    .related-posts-section {
        margin: 2rem 0;
    }

    .section-title {
        font-size: 1.375rem;
        margin-bottom: 1.25rem;
    }

    .related-posts-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }

    /* Post Sidebar - Below Content */
    .post-sidebar {
        order: 2;
    }

    .post-content-wrapper {
        order: 1;
    }

    .sticky-toc-widget {
        display: none; /* Hide duplicate TOC on mobile */
    }

    .sidebar-popular-posts .popular-post-item {
        flex-direction: row;
        gap: 0.875rem;
    }

    .sidebar-popular-posts .popular-post-thumb {
        width: 80px;
        height: 80px;
    }
}

/* Tablet (768px - 991px) */
@media (min-width: 768px) and (max-width: 991px) {
    .post-layout {
        grid-template-columns: 1fr;
    }

    .post-title {
        font-size: 1.875rem;
    }

    .post-body {
        font-size: 1.0625rem;
    }

    .related-posts-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    .post-sidebar {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    .sticky-toc-widget {
        display: none;
    }
}

/* Desktop (992px+) */
@media (min-width: 992px) {
    .post-layout {
        grid-template-columns: 1fr 320px;
        gap: 2.5rem;
    }

    .post-title {
        font-size: 2.25rem;
    }

    .post-body {
        font-size: 1.0625rem;
        line-height: 1.8;
    }

    .related-posts-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
    }

    .post-sidebar {
        display: block;
    }

    .sticky-toc-widget {
        display: block;
        position: sticky;
        top: 120px;
    }
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .blog-card,
    .sidebar-widget,
    .featured-post {
        border: 2px solid var(--text-primary);
    }

    .category-tab,
    .tag-item,
    .btn-load-more {
        border: 2px solid currentColor;
    }
}

/* Dark mode support (optional future enhancement) */
@media (prefers-color-scheme: dark) {
    :root {
        --text-primary: #e2e8f0;
        --text-secondary: #cbd5e0;
        --text-muted: #a0aec0;
        --background: #1a202c;
        --surface: #2d3748;
        --border: #4a5568;
        --blog-bg: #1a202c;
        --card-bg: #2d3748;
        --sidebar-bg: #2d3748;
    }

    .blog-card,
    .sidebar-widget,
    .featured-post,
    .newsletter-box {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
}

/* Print styles */
@media print {
    .main-header,
    .breadcrumb-container,
    .category-filter-section,
    .blog-hero,
    .blog-sidebar,
    .post-sidebar,
    .post-share-bar,
    .newsletter-section,
    .load-more-section,
    .related-posts-section,
    .main-footer,
    .ad-widget,
    .ad-placeholder {
        display: none !important;
    }

    .blog-content,
    .post-content-wrapper {
        width: 100% !important;
        max-width: 100% !important;
    }

    .post-body {
        font-size: 12pt;
        line-height: 1.6;
    }

    .post-body a {
        text-decoration: underline;
        color: #000;
    }

    .post-body a::after {
        content: " (" attr(href) ")";
        font-size: 0.875em;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
    /* Increase touch target sizes */
    .category-tab,
    .share-btn,
    .tag-item,
    button,
    a {
        min-height: 44px;
        min-width: 44px;
    }

    /* Remove hover effects on touch devices */
    .blog-card:hover,
    .featured-post:hover,
    .category-tab:hover,
    .tag-item:hover {
        transform: none;
    }

    /* Disable sticky elements on touch for better scrolling */
    .sticky-sidebar,
    .sticky-toc-widget {
        position: static !important;
    }
}

/* Landscape phone optimizations */
@media (max-height: 500px) and (orientation: landscape) {
    .blog-hero {
        padding: 1.5rem 0;
    }

    .hero-title {
        font-size: 1.75rem;
    }

    .featured-post {
        min-height: auto;
    }

    .sticky-sidebar,
    .category-filter-section {
        position: static !important;
    }
}
